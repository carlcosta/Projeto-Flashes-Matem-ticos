{% extends "base.html" %}

{% block content %}
<main>
  <article>

    <header>
      <h1>{{ post[1] }}</h1>
    </header>

    <section>
      <p>{{ post[5] }}</p>
      <p>{{ post[2] }}</p>
    </section>

    {% if post[3] %}
    {% if post[3].endswith(('jpg', 'jpeg', 'gif', 'png')) %}
    {% set file_path = post[3].split('static', 1)[-1].lstrip('\\/') %}
    <figure>
      <img src="{{ '../static/' ~ file_path }}" alt="">
    </figure>
    {% elif post[3].endswith('mp4') %}
    {% set file_path = post[3].split('static', 1)[-1].lstrip('\\/') %}
    <figure>
      <video controls>
        <source src="{{ '../static/' ~ file_path }}" type="video/mp4">
        Seu navegador não suporta o elemento de vídeo.
      </video>
    </figure>
    {% endif %}
    {% endif %}
  </article>
</main>
{% endblock %}